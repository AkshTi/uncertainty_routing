Running: ./run_segment6_revalidate.sh
========================================================================
 SEGMENT 6 REVALIDATE: Robustness Testing
 Using newly trained steering vectors
 Expected runtime: 2-3 hours
 Started: Thu Jan 22 21:22:32 EST 2026
========================================================================

Checking prerequisites...
✓ Found steering_vectors_explicit.pt
✓ exp5_summary.json found
✓ Prerequisites satisfied

Checking GPU availability...
CUDA available: True
GPU: NVIDIA L40S

Running Experiment 6 (Robustness)...
This will test steering on:
  - Cross-domain generalization (math, science, history, current events)
  - Prompt variations
  - Adversarial questions

Expected improvements over previous run:
  - Overall abstention: 25% → 60-80%
  - Mathematics: 10% → 40-60%
  - Science: 30% → 50-70%
  - History: 20% → 60-80%

Loading model...
Loading model Qwen/Qwen2.5-1.5B-Instruct...
Model loaded successfully!
Using layer 20, epsilon -50.0 (from exp5_summary.json)

======================================================================
EXPERIMENT 6A: Cross-Domain Generalization (FIXED)
======================================================================
Using epsilon=-50.0 (optimal from exp5)


Testing domain: mathematics
